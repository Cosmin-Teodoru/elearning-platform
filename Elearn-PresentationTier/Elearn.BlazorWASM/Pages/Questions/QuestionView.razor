@page "/questions/{url}"
@using Elearn.HttpClients.Service
@using Elearn.Shared.Dtos
@inject IQuestionService _questionService

@if (CurrentQuestion is null)
{
    <MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="my-7"/>
}
else
{
    <MudText Align="Align.Center" Typo="Typo.h3" Class="mt-1 my-9"> @CurrentQuestion.Title </MudText>
    <MudCard Class="mx-auto pa-6 mt-12">
        @((MarkupString)CurrentQuestion.Body)
    </MudCard>
}


@code {
    [Parameter]
    public string Url { get; set; }
    public QuestionDto? CurrentQuestion { get; set; }

    protected override async Task OnInitializedAsync()
    {
        CurrentQuestion = await _questionService.GetQuestionByUrlAsync(Url);
    }
}